{% load brazil_time %}

<span id="brazilTime" class="p-1 rounded text-xs bg-blue-800 text-gray-100">
    {% display_brazil_time %}
</span>

<script>
document.addEventListener("DOMContentLoaded", function () {
    function updateBrazilTime() {
        fetch('/blog/api/brazil_time/')
            .then(response => response.text())
            .then(time => {
                document.getElementById('brazilTime').innerHTML = time;
            })
            .catch(error => console.error('Error fetching Brazil time:', error));
    }

    // Update time every minute
    setInterval(updateBrazilTime, 60000);
});
</script>